import { TechNode } from '../core/types.js';

export const TECH_TREE: TechNode[] = [
  // Capabilities
  {
    id: 'cap_eff_training',
    name: 'Efficient Training',
    branch: 'capabilities',
    cost: 20,
    prereqs: [],
    effects: [{ kind: 'capability', delta: 6 }],
  },
  {
    id: 'cap_arch_breakthrough',
    name: 'Architecture Breakthrough',
    branch: 'capabilities',
    cost: 25,
    prereqs: ['cap_eff_training'],
    effects: [{ kind: 'capability', delta: 7 }],
  },
  {
    id: 'cap_multimodal',
    name: 'Multi-modal Mastery',
    branch: 'capabilities',
    cost: 30,
    prereqs: ['cap_arch_breakthrough'],
    effects: [{ kind: 'capability', delta: 8 }],
  },
  {
    id: 'cap_long_horizon',
    name: 'Long-Horizon Planning',
    branch: 'capabilities',
    cost: 35,
    prereqs: ['cap_multimodal'],
    effects: [{ kind: 'capability', delta: 9 }],
  },
  {
    id: 'cap_scalable_reasoning',
    name: 'Scalable Reasoning',
    branch: 'capabilities',
    cost: 40,
    prereqs: ['cap_long_horizon'],
    effects: [{ kind: 'capability', delta: 10 }],
  },
  {
    id: 'cap_agi_breakthrough',
    name: 'AGI Breakthrough',
    branch: 'capabilities',
    cost: 50,
    prereqs: ['cap_scalable_reasoning'],
    effects: [{ kind: 'capability', delta: 12 }, { kind: 'unlockAgi' }],
  },

  // Safety
  {
    id: 'safe_alignment_benchmarks',
    name: 'Alignment Benchmarks',
    branch: 'safety',
    cost: 18,
    prereqs: [],
    effects: [{ kind: 'safety', delta: 6 }],
  },
  {
    id: 'safe_interpretability',
    name: 'Interpretability Tools',
    branch: 'safety',
    cost: 22,
    prereqs: ['safe_alignment_benchmarks'],
    effects: [{ kind: 'safety', delta: 7 }, { kind: 'stat', key: 'safetyCulture', delta: 2 }],
  },
  {
    id: 'safe_adversarial',
    name: 'Adversarial Robustness',
    branch: 'safety',
    cost: 26,
    prereqs: ['safe_interpretability'],
    effects: [{ kind: 'safety', delta: 8 }],
  },
  {
    id: 'safe_monitoring',
    name: 'Model Monitoring',
    branch: 'safety',
    cost: 30,
    prereqs: ['safe_adversarial'],
    effects: [{ kind: 'safety', delta: 9 }],
  },
  {
    id: 'safe_scaling_laws',
    name: 'Safety Scaling Laws',
    branch: 'safety',
    cost: 34,
    prereqs: ['safe_monitoring'],
    effects: [{ kind: 'safety', delta: 10 }, { kind: 'stat', key: 'safetyCulture', delta: 3 }],
  },
  {
    id: 'safe_guardrails',
    name: 'Deployment Guardrails',
    branch: 'safety',
    cost: 40,
    prereqs: ['safe_scaling_laws'],
    effects: [{ kind: 'safety', delta: 12 }],
  },

  // Ops / Infrastructure
  {
    id: 'ops_compute_scaling',
    name: 'Compute Scaling',
    branch: 'ops',
    cost: 16,
    prereqs: [],
    effects: [{ kind: 'resource', key: 'compute', delta: 6 }],
  },
  {
    id: 'ops_energy_contracts',
    name: 'Energy Contracts',
    branch: 'ops',
    cost: 20,
    prereqs: ['ops_compute_scaling'],
    effects: [{ kind: 'resource', key: 'capital', delta: 5 }],
  },
  {
    id: 'ops_data_pipeline',
    name: 'Data Pipeline Optimization',
    branch: 'ops',
    cost: 22,
    prereqs: ['ops_energy_contracts'],
    effects: [{ kind: 'resource', key: 'data', delta: 6 }],
  },
  {
    id: 'ops_ai_ops',
    name: 'AI Ops Automation',
    branch: 'ops',
    cost: 26,
    prereqs: ['ops_data_pipeline'],
    effects: [{ kind: 'resource', key: 'capital', delta: 6 }],
  },
  {
    id: 'ops_model_compression',
    name: 'Model Compression',
    branch: 'ops',
    cost: 30,
    prereqs: ['ops_ai_ops'],
    effects: [{ kind: 'resource', key: 'compute', delta: 7 }],
  },
  {
    id: 'ops_reliability',
    name: 'Deployment Reliability',
    branch: 'ops',
    cost: 34,
    prereqs: ['ops_model_compression'],
    effects: [{ kind: 'resource', key: 'trust', delta: 6 }],
  },

  // Policy / Diplomacy
  {
    id: 'pol_audit_standards',
    name: 'Audit Standards',
    branch: 'policy',
    cost: 16,
    prereqs: [],
    effects: [{ kind: 'resource', key: 'trust', delta: 4 }],
  },
  {
    id: 'pol_compute_reporting',
    name: 'Compute Reporting',
    branch: 'policy',
    cost: 20,
    prereqs: ['pol_audit_standards'],
    effects: [{ kind: 'resource', key: 'influence', delta: 5 }],
  },
  {
    id: 'pol_joint_safety_lab',
    name: 'Joint Safety Lab',
    branch: 'policy',
    cost: 24,
    prereqs: ['pol_compute_reporting'],
    effects: [{ kind: 'safety', delta: 6 }],
  },
  {
    id: 'pol_non_prolif',
    name: 'Non-Proliferation Treaty',
    branch: 'policy',
    cost: 28,
    prereqs: ['pol_joint_safety_lab'],
    effects: [{ kind: 'resource', key: 'influence', delta: 6 }],
  },
  {
    id: 'pol_export_controls',
    name: 'Export Controls',
    branch: 'policy',
    cost: 30,
    prereqs: ['pol_non_prolif'],
    effects: [{ kind: 'resource', key: 'influence', delta: 7 }],
  },
  {
    id: 'pol_mutual_inspection',
    name: 'Mutual Inspection',
    branch: 'policy',
    cost: 34,
    prereqs: ['pol_export_controls'],
    effects: [{ kind: 'safety', delta: 8 }, { kind: 'resource', key: 'trust', delta: 4 }],
  },
];
